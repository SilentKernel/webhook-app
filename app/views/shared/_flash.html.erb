<% if flash.any? %>
  <div class="fixed top-4 right-4 z-50 flex flex-col gap-2">
    <% flash.each do |type, message| %>
      <% alert_class = case type.to_sym
        when :notice, :success then "alert-success"
        when :alert, :error then "alert-error"
        when :warning then "alert-warning"
        else "alert-info"
      end %>
      <div
        data-controller="notification"
        data-notification-delay-value="10000"
        class="alert <%= alert_class %> shadow-lg transition-opacity duration-300"
        data-transition-leave-from="opacity-100"
        data-transition-leave-to="opacity-0"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
          <% if type.to_sym == :notice || type.to_sym == :success %>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          <% elsif type.to_sym == :alert || type.to_sym == :error %>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
          <% else %>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          <% end %>
        </svg>
        <span><%= message %></span>
        <button
          type="button"
          data-action="notification#hide"
          class="ml-auto p-1 rounded-full opacity-70 hover:opacity-100 hover:bg-black/10 transition-opacity"
          aria-label="Dismiss"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    <% end %>
  </div>
<% end %>
